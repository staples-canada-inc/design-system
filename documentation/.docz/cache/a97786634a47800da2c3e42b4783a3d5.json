{"remainingRequest":"/Users/caibr002/Desktop/staples_ds_1/documentation/node_modules/thread-loader/dist/cjs.js??ref--11-1!/Users/caibr002/Desktop/staples_ds_1/documentation/node_modules/babel-loader/lib/index.js??ref--11-2!/Users/caibr002/Desktop/staples_ds_1/documentation/node_modules/source-map-loader/index.js!/Users/caibr002/Desktop/staples_ds_1/documentation/src/theme/components/ui/Playground/index.tsx","dependencies":[{"path":"/Users/caibr002/Desktop/staples_ds_1/documentation/src/theme/components/ui/Playground/index.tsx","mtime":1562956009000},{"path":"/Users/caibr002/Desktop/staples_ds_1/documentation/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caibr002/Desktop/staples_ds_1/documentation/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/caibr002/Desktop/staples_ds_1/documentation/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/caibr002/Desktop/staples_ds_1/documentation/node_modules/source-map-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL1VzZXJzL2NhaWJyMDAyL0Rlc2t0b3Avc3RhcGxlc19kc18xL2RvY3VtZW50YXRpb24vbm9kZV9tb2R1bGVzL2JhYmVsLXByZXNldC1yZWFjdC1hcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZCI7CmltcG9ydCBfc2xpY2VkVG9BcnJheSBmcm9tICIvVXNlcnMvY2FpYnIwMDIvRGVza3RvcC9zdGFwbGVzX2RzXzEvZG9jdW1lbnRhdGlvbi9ub2RlX21vZHVsZXMvYmFiZWwtcHJlc2V0LXJlYWN0LWFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vc2xpY2VkVG9BcnJheSI7CmltcG9ydCBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsIGZyb20gIi9Vc2Vycy9jYWlicjAwMi9EZXNrdG9wL3N0YXBsZXNfZHNfMS9kb2N1bWVudGF0aW9uL25vZGVfbW9kdWxlcy9iYWJlbC1wcmVzZXQtcmVhY3QtYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90YWdnZWRUZW1wbGF0ZUxpdGVyYWwiOwp2YXIgX2pzeEZpbGVOYW1lID0gIi9Vc2Vycy9jYWlicjAwMi9EZXNrdG9wL3N0YXBsZXNfZHNfMS9kb2N1bWVudGF0aW9uL3NyYy90aGVtZS9jb21wb25lbnRzL3VpL1BsYXlncm91bmQvaW5kZXgudHN4IjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIGVudGVyTW9kdWxlID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZW50ZXJNb2R1bGU7CiAgZW50ZXJNb2R1bGUgJiYgZW50ZXJNb2R1bGUobW9kdWxlKTsKfSkoKTsKCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDcoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIGJvcmRlci10b3A6IDA7XG4iXSk7CgogIF90ZW1wbGF0ZU9iamVjdDcgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3Q3KCkgewogICAgcmV0dXJuIGRhdGE7CiAgfTsKCiAgcmV0dXJuIGRhdGE7Cn0KCmZ1bmN0aW9uIF90ZW1wbGF0ZU9iamVjdDYoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIGJveC1zaXppbmc6IGNvbnRlbnQtYm94O1xuICB3aWR0aDogY2FsYygxMDAlIC0gMnB4KTtcbiAgYm9yZGVyLXJhZGl1czogMCAhaW1wb3J0YW50O1xuICBib3JkZXItYm90dG9tOiAwO1xuICBib3JkZXItbGVmdDogMDtcbiAgbWFyZ2luOiAwO1xuIl0pOwoKICBfdGVtcGxhdGVPYmplY3Q2ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0NigpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3Q1KCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgd2lkdGg6IGNhbGMoMTAwJSAtIDQwcHgpO1xuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDQwcHgpO1xuICBwYWRkaW5nOiAyMHB4O1xuICBtYXJnaW46IDA7XG4gIGJhY2tncm91bmQ6ICIsICI7XG4gIGZvbnQtc2l6ZTogMTZweDtcbiAgY29sb3I6IHdoaXRlO1xuIl0pOwoKICBfdGVtcGxhdGVPYmplY3Q1ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0NSgpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3Q0KCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XG4gIHdpZHRoOiAxMDAlO1xuICAiLCAiO1xuIl0pOwoKICBfdGVtcGxhdGVPYmplY3Q0ID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0NCgpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QzKCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIGZsZXg6IDE7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAiLCAiO1xuICBiYWNrZ3JvdW5kOiAiLCAiO1xuICBtaW4taGVpZ2h0OiAiLCAiO1xuIl0pOwoKICBfdGVtcGxhdGVPYmplY3QzID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MygpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QyKCkgewogIHZhciBkYXRhID0gX3RhZ2dlZFRlbXBsYXRlTGl0ZXJhbChbIlxuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBoZWlnaHQ6ICIsICI7XG4gIHdpZHRoOiAiLCAiO1xuICBib3JkZXI6IDFweCBzb2xpZCAiLCAiO1xuIl0pOwoKICBfdGVtcGxhdGVPYmplY3QyID0gZnVuY3Rpb24gX3RlbXBsYXRlT2JqZWN0MigpIHsKICAgIHJldHVybiBkYXRhOwogIH07CgogIHJldHVybiBkYXRhOwp9CgpmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgdmFyIGRhdGEgPSBfdGFnZ2VkVGVtcGxhdGVMaXRlcmFsKFsiXG4gIHRvcDogMDtcbiAgbGVmdDogMDtcbiAgei1pbmRleDogIiwgIjtcbiAgcG9zaXRpb246ICIsICI7XG4gIHdpZHRoOiAiLCAiO1xuICBoZWlnaHQ6ICIsICI7XG4gIHBhZGRpbmc6ICIsICI7XG4gIG1hcmdpbjogIiwgIjtcbiAgYmFja2dyb3VuZDogIiwgIjtcbiAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZCAwLjNzO1xuIl0pOwoKICBfdGVtcGxhdGVPYmplY3QgPSBmdW5jdGlvbiBfdGVtcGxhdGVPYmplY3QoKSB7CiAgICByZXR1cm4gZGF0YTsKICB9OwoKICByZXR1cm4gZGF0YTsKfQoKdmFyIF9fc2lnbmF0dXJlX18gPSB0eXBlb2YgcmVhY3RIb3RMb2FkZXJHbG9iYWwgIT09ICd1bmRlZmluZWQnID8gcmVhY3RIb3RMb2FkZXJHbG9iYWxbImRlZmF1bHQiXS5zaWduYXR1cmUgOiBmdW5jdGlvbiAoYSkgewogIHJldHVybiBhOwp9OwoKaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnOwppbXBvcnQgeyBGcmFnbWVudCB9IGZyb20gJ3JlYWN0JzsKaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCwgdXNlQ2FsbGJhY2ssIHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7CmltcG9ydCB7IHVzZUNvbmZpZyB9IGZyb20gJ2RvY3onOwppbXBvcnQgeyBMaXZlUHJvdmlkZXIsIExpdmVFcnJvciwgTGl2ZVByZXZpZXcgfSBmcm9tICdyZWFjdC1saXZlJzsKaW1wb3J0IHN0eWxlZCwgeyBjc3MgfSBmcm9tICdzdHlsZWQtY29tcG9uZW50cyc7CmltcG9ydCByZ2JhIGZyb20gJ3BvbGlzaGVkL2xpYi9jb2xvci9yZ2JhJzsKaW1wb3J0IFJlc2l6YWJsZSBmcm9tICdyZS1yZXNpemFibGUnOwppbXBvcnQgZ2V0dGVyIGZyb20gJ2xvZGFzaC9nZXQnOwppbXBvcnQgeyBTdG9yYWdlIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvc3RvcmFnZSc7CmltcG9ydCB7IGdldCBhcyB0aGVtZUdldCB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL3RoZW1lJzsKaW1wb3J0IHsgUmVzaXplQmFyIH0gZnJvbSAnLi9SZXNpemVCYXInOwppbXBvcnQgeyBBY3Rpb25zQmFyIH0gZnJvbSAnLi9BY3Rpb25zQmFyJzsKaW1wb3J0IHsgSGFuZGxlLCBIQU5ETEVfU0laRSB9IGZyb20gJy4vSGFuZGxlJzsKaW1wb3J0IHsgRWRpdG9yIGFzIFByZUJhc2UgfSBmcm9tICcuLi9FZGl0b3InOwppbXBvcnQgeyB1c2VIb3RrZXlzIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvaG90a2V5cyc7Cgp2YXIgd2hlbkZ1bGxzY3JlZW4gPSBmdW5jdGlvbiB3aGVuRnVsbHNjcmVlbihvbiwgb2ZmKSB7CiAgcmV0dXJuIGZ1bmN0aW9uIChwKSB7CiAgICByZXR1cm4gcC5mdWxsID8gb24gOiBvZmY7CiAgfTsKfTsKCnZhciBPdmVybGF5ID0gc3R5bGVkLmRpdihfdGVtcGxhdGVPYmplY3QoKSwgd2hlbkZ1bGxzY3JlZW4oOTk5OSwgMyksIHdoZW5GdWxsc2NyZWVuKCdmaXhlZCcsICdyZWxhdGl2ZScpLCB3aGVuRnVsbHNjcmVlbignMTAwdncnLCAnYXV0bycpLCB3aGVuRnVsbHNjcmVlbignMTAwdmgnLCAnYXV0bycpLCB3aGVuRnVsbHNjcmVlbignNjBweCAyMHB4IDIwcHgnLCAnMHB4JyksIHdoZW5GdWxsc2NyZWVuKCcwcHgnLCAnMCAwIDMwcHgnKSwgd2hlbkZ1bGxzY3JlZW4oJ3JnYmEoMCwwLDAsMC41KScsICd0cmFuc3BhcmVudCcpKTsKdmFyIGJvcmRlckNvbG9yID0gdGhlbWVHZXQoJ2NvbG9ycy5ib3JkZXInKTsKdmFyIG1pbnVzSGFuZGxlU2l6ZSA9ICJjYWxjKDEwMCUgLSAiLmNvbmNhdChIQU5ETEVfU0laRSwgIiArIDRweCkiKTsKdmFyIFdyYXBwZXIgPSBzdHlsZWQuZGl2KF90ZW1wbGF0ZU9iamVjdDIoKSwgd2hlbkZ1bGxzY3JlZW4obWludXNIYW5kbGVTaXplLCAnMTAwJScpLCBtaW51c0hhbmRsZVNpemUsIGJvcmRlckNvbG9yKTsKdmFyIGJhY2tncm91bmRDb2xvciA9IHRoZW1lR2V0KCdjb2xvcnMuYmFja2dyb3VuZCcpOwp2YXIgUHJldmlld1dyYXBwZXIgPSBzdHlsZWQuZGl2KF90ZW1wbGF0ZU9iamVjdDMoKSwgYm9yZGVyQ29sb3IsIGJhY2tncm91bmRDb2xvciwgd2hlbkZ1bGxzY3JlZW4oJzE5OHB4JywgJ2F1dG8nKSk7CnZhciBTdHlsZWRQcmV2aWV3V3JhcHBlciA9IHN0eWxlZC5kaXYoX3RlbXBsYXRlT2JqZWN0NCgpLCB0aGVtZUdldCgnc3R5bGVzLnBsYXlncm91bmQnKSk7CnZhciBTdHlsZWRFcnJvciA9IHN0eWxlZChMaXZlRXJyb3IpKF90ZW1wbGF0ZU9iamVjdDUoKSwgcmdiYSgnYmxhY2snLCAwLjgpKTsKdmFyIFByZSA9IHN0eWxlZChQcmVCYXNlKShfdGVtcGxhdGVPYmplY3Q2KCkpOwp2YXIgZWRpdG9yU3R5bGUgPSBjc3MoX3RlbXBsYXRlT2JqZWN0NygpKTsKCnZhciBmcm9tU3RvcmFnZSA9IGZ1bmN0aW9uIGZyb21TdG9yYWdlKHN0b3JhZ2UpIHsKICByZXR1cm4gZnVuY3Rpb24gKGtleSwgZGVmYXVsdFZhbHVlKSB7CiAgICB2YXIgb2JqID0gc3RvcmFnZS5nZXQoKTsKICAgIHJldHVybiBvYmogPyBnZXR0ZXIob2JqLCBrZXkpIDogZGVmYXVsdFZhbHVlOwogIH07Cn07CgppZiAodHlwZW9mIFBsYXlncm91bmRQcm9wcyAhPT0gJ3VuZGVmaW5lZCcgJiYgUGxheWdyb3VuZFByb3BzICYmIFBsYXlncm91bmRQcm9wcyA9PT0gT2JqZWN0KFBsYXlncm91bmRQcm9wcykgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShQbGF5Z3JvdW5kUHJvcHMpKSB7CiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXlncm91bmRQcm9wcywgJ19fZmlsZW1ldGEnLCB7CiAgICBlbnVtZXJhYmxlOiB0cnVlLAogICAgY29uZmlndXJhYmxlOiB0cnVlLAogICAgdmFsdWU6IHsKICAgICAgbmFtZTogIlBsYXlncm91bmRQcm9wcyIsCiAgICAgIGZpbGVuYW1lOiAic3JjL3RoZW1lL2NvbXBvbmVudHMvdWkvUGxheWdyb3VuZC9pbmRleC50c3giCiAgICB9CiAgfSk7Cn0KCmV4cG9ydCB2YXIgUGxheWdyb3VuZCA9IGZ1bmN0aW9uIFBsYXlncm91bmQoX3JlZikgewogIHZhciBwb3NpdGlvbiA9IF9yZWYucG9zaXRpb24sCiAgICAgIGluaXRpYWxDb2RlID0gX3JlZi5jb2RlLAogICAgICBjb2Rlc2FuZGJveCA9IF9yZWYuY29kZXNhbmRib3gsCiAgICAgIGNsYXNzTmFtZSA9IF9yZWYuY2xhc3NOYW1lLAogICAgICBzdHlsZSA9IF9yZWYuc3R5bGUsCiAgICAgIHNjb3BlID0gX3JlZi5zY29wZSwKICAgICAgX3JlZiR3cmFwcGVyID0gX3JlZi53cmFwcGVyLAogICAgICBDdXN0b21XcmFwcGVyID0gX3JlZiR3cmFwcGVyID09PSB2b2lkIDAgPyBGcmFnbWVudCA6IF9yZWYkd3JhcHBlcjsKCiAgdmFyIF91c2VDb25maWcgPSB1c2VDb25maWcoKSwKICAgICAgdGhlbWVDb25maWcgPSBfdXNlQ29uZmlnLnRoZW1lQ29uZmlnLAogICAgICBfbmF0aXZlID0gX3VzZUNvbmZpZ1sibmF0aXZlIl07CgogIHZhciBpbml0aWFsU2hvd0VkaXRvciA9IGdldHRlcih0aGVtZUNvbmZpZywgJ3Nob3dQbGF5Z3JvdW5kRWRpdG9yJyk7CiAgdmFyIHN0b3JhZ2UgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBuZXcgU3RvcmFnZSgiZG9jelBsYXlncm91bmQtIi5jb25jYXQocG9zaXRpb24pKTsKICB9LCBbXSk7CiAgdmFyIGF0UG9zID0gZnJvbVN0b3JhZ2Uoc3RvcmFnZSk7CiAgdmFyIGluaXRpYWxGdWxsc2NyZWVuID0gYXRQb3MoJ2Z1bGxzY3JlZW4nLCBmYWxzZSk7CiAgdmFyIGluaXRpYWxXaWR0aCA9IGF0UG9zKCd3aWR0aCcsICcxMDAlJyk7CiAgdmFyIGluaXRpYWxIZWlnaHQgPSBhdFBvcygnaGVpZ2h0JywgJzEwMCUnKTsKCiAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKDApLAogICAgICBfdXNlU3RhdGUyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlLCAyKSwKICAgICAga2V5ID0gX3VzZVN0YXRlMlswXSwKICAgICAgc2V0S2V5ID0gX3VzZVN0YXRlMlsxXTsKCiAgdmFyIF91c2VTdGF0ZTMgPSB1c2VTdGF0ZShpbml0aWFsQ29kZSksCiAgICAgIF91c2VTdGF0ZTQgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGUzLCAyKSwKICAgICAgY29kZSA9IF91c2VTdGF0ZTRbMF0sCiAgICAgIHNldENvZGUgPSBfdXNlU3RhdGU0WzFdOwoKICB2YXIgX3VzZVN0YXRlNSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHsKICAgIHJldHVybiBpbml0aWFsRnVsbHNjcmVlbjsKICB9KSwKICAgICAgX3VzZVN0YXRlNiA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTUsIDIpLAogICAgICBmdWxsc2NyZWVuID0gX3VzZVN0YXRlNlswXSwKICAgICAgc2V0RnVsbHNjcmVlbiA9IF91c2VTdGF0ZTZbMV07CgogIHZhciBfdXNlU3RhdGU3ID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkgewogICAgcmV0dXJuIGluaXRpYWxXaWR0aDsKICB9KSwKICAgICAgX3VzZVN0YXRlOCA9IF9zbGljZWRUb0FycmF5KF91c2VTdGF0ZTcsIDIpLAogICAgICB3aWR0aCA9IF91c2VTdGF0ZThbMF0sCiAgICAgIHNldFdpZHRoID0gX3VzZVN0YXRlOFsxXTsKCiAgdmFyIF91c2VTdGF0ZTkgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gaW5pdGlhbEhlaWdodDsKICB9KSwKICAgICAgX3VzZVN0YXRlMTAgPSBfc2xpY2VkVG9BcnJheShfdXNlU3RhdGU5LCAyKSwKICAgICAgaGVpZ2h0ID0gX3VzZVN0YXRlMTBbMF0sCiAgICAgIHNldEhlaWdodCA9IF91c2VTdGF0ZTEwWzFdOwoKICB2YXIgX3VzZVN0YXRlMTEgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gQm9vbGVhbihpbml0aWFsU2hvd0VkaXRvcik7CiAgfSksCiAgICAgIF91c2VTdGF0ZTEyID0gX3NsaWNlZFRvQXJyYXkoX3VzZVN0YXRlMTEsIDIpLAogICAgICBzaG93RWRpdG9yID0gX3VzZVN0YXRlMTJbMF0sCiAgICAgIHNldFNob3dFZGl0b3IgPSBfdXNlU3RhdGUxMlsxXTsKCiAgdmFyIHN0YXRlID0gewogICAgZnVsbHNjcmVlbjogZnVsbHNjcmVlbiwKICAgIHdpZHRoOiB3aWR0aCwKICAgIGhlaWdodDogaGVpZ2h0LAogICAgY29kZTogY29kZSwKICAgIGtleToga2V5LAogICAgc2hvd0VkaXRvcjogc2hvd0VkaXRvcgogIH07CiAgdmFyIHJlc2l6YWJsZVByb3BzID0gdXNlTWVtbyhmdW5jdGlvbiAoKSB7CiAgICByZXR1cm4gewogICAgICBtaW5IZWlnaHQ6IGZ1bGxzY3JlZW4gPyAzNjAgOiAnMTAwJScsCiAgICAgIG1pbldpZHRoOiAyNjAsCiAgICAgIG1heFdpZHRoOiAnMTAwJScsCiAgICAgIG1heEhlaWdodDogJzEwMCUnLAogICAgICBzaXplOiB7CiAgICAgICAgd2lkdGg6IHdpZHRoLAogICAgICAgIGhlaWdodDogaGVpZ2h0CiAgICAgIH0sCiAgICAgIHN0eWxlOiB7CiAgICAgICAgbWFyZ2luOiAnMCBhdXRvICcKICAgICAgfSwKICAgICAgZW5hYmxlOiB7CiAgICAgICAgdG9wOiBmYWxzZSwKICAgICAgICByaWdodDogdHJ1ZSwKICAgICAgICBib3R0b206IGZ1bGxzY3JlZW4sCiAgICAgICAgbGVmdDogZmFsc2UsCiAgICAgICAgdG9wUmlnaHQ6IGZhbHNlLAogICAgICAgIGJvdHRvbVJpZ2h0OiBmdWxsc2NyZWVuLAogICAgICAgIGJvdHRvbUxlZnQ6IGZhbHNlLAogICAgICAgIHRvcExlZnQ6IGZhbHNlCiAgICAgIH0sCiAgICAgIGhhbmRsZUNvbXBvbmVudDogewogICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZQogICAgICAgIHJpZ2h0OiBmdW5jdGlvbiByaWdodCgpIHsKICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEhhbmRsZSwgewogICAgICAgICAgICBmdWxsOiBmdWxsc2NyZWVuLAogICAgICAgICAgICBob3Jpem9udGFsOiB0cnVlLAogICAgICAgICAgICBfX3NvdXJjZTogewogICAgICAgICAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgICAgICAgICAgbGluZU51bWJlcjogMTYyCiAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF9fc2VsZjogdGhpcwogICAgICAgICAgfSk7CiAgICAgICAgfSwKICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUKICAgICAgICBib3R0b206IGZ1bmN0aW9uIGJvdHRvbSgpIHsKICAgICAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KEhhbmRsZSwgewogICAgICAgICAgICBmdWxsOiBmdWxsc2NyZWVuLAogICAgICAgICAgICBob3Jpem9udGFsOiBmYWxzZSwKICAgICAgICAgICAgX19zb3VyY2U6IHsKICAgICAgICAgICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICAgICAgICAgIGxpbmVOdW1iZXI6IDE2NAogICAgICAgICAgICB9LAogICAgICAgICAgICBfX3NlbGY6IHRoaXMKICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSwKICAgICAgb25SZXNpemVTdG9wOiBmdW5jdGlvbiBvblJlc2l6ZVN0b3AoZSwgZGlyZWN0aW9uLCByZWYsIGQpIHsKICAgICAgICB2YXIgd2lkdGggPSByZWYuc3R5bGUud2lkdGg7CiAgICAgICAgdmFyIGhlaWdodCA9IHJlZi5zdHlsZS5oZWlnaHQ7CiAgICAgICAgaGFuZGxlU2V0U2l6ZSh3aWR0aCwgaGVpZ2h0KTsKICAgICAgfQogICAgfTsKICB9LCBbZnVsbHNjcmVlbiwgd2lkdGgsIGhlaWdodF0pOwogIHZhciBlZGl0b3JQcm9wcyA9IHsKICAgIGNzczogZWRpdG9yU3R5bGUsCiAgICBhY3Rpb25zOiBSZWFjdC5jcmVhdGVFbGVtZW50KEZyYWdtZW50LCB7CiAgICAgIF9fc291cmNlOiB7CiAgICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgICBsaW5lTnVtYmVyOiAxNzcKICAgICAgfSwKICAgICAgX19zZWxmOiB0aGlzCiAgICB9KQogIH07CiAgdmFyIHNldFN0b3JhZ2VQcm9wID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKGZ1bGxzY3JlZW4pIHsKICAgIHN0b3JhZ2Uuc2V0KF9vYmplY3RTcHJlYWQoe30sIHN0YXRlLCB7CiAgICAgIGZ1bGxzY3JlZW46IGZ1bGxzY3JlZW4KICAgIH0pKTsKICB9LCBbXSk7CgogIHZhciBoYW5kbGVUb2dnbGVGdWxsc2NyZWVuID0gZnVuY3Rpb24gaGFuZGxlVG9nZ2xlRnVsbHNjcmVlbigpIHsKICAgIGlmIChmdWxsc2NyZWVuKSBzdG9yYWdlWyJkZWxldGUiXSgpO2Vsc2Ugc2V0U3RvcmFnZVByb3AodHJ1ZSk7CiAgICBzZXRGdWxsc2NyZWVuKGF0UG9zKCdmdWxsc2NyZWVuJywgZmFsc2UpKTsKICAgIHNldFdpZHRoKGF0UG9zKCd3aWR0aCcsICcxMDAlJykpOwogICAgc2V0SGVpZ2h0KGF0UG9zKCd3aWR0aCcsICcxMDAlJykpOwogIH07CgogIHZhciBoYW5kbGVUb2dnbGVTaG93RWRpdG9yID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkgewogICAgc2V0U2hvd0VkaXRvcihmdW5jdGlvbiAocykgewogICAgICByZXR1cm4gIXM7CiAgICB9KTsKICB9LCBbXSk7CiAgdmFyIGhhbmRsZVNldFNpemUgPSB1c2VDYWxsYmFjayhmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkgewogICAgdmFyIGN1cnJlbnQgPSBhdFBvcygnZnVsbHNjcmVlbicsIGZhbHNlKTsKICAgIHNldFdpZHRoKHdpZHRoKTsKICAgIHNldEhlaWdodChoZWlnaHQpOwogICAgc2V0U3RvcmFnZVByb3AoY3VycmVudCk7CiAgfSwgW10pOwogIHZhciBoYW5kbGVSZWZyZXNoID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkgewogICAgc2V0S2V5KGtleSArIDEpOwogIH0sIFtdKTsKICB2YXIgdHJhbnNmb3JtQ29kZSA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChjb2RlKSB7CiAgICBpZiAoY29kZS5zdGFydHNXaXRoKCcoKScpIHx8IGNvZGUuc3RhcnRzV2l0aCgnY2xhc3MnKSkgcmV0dXJuIGNvZGU7CiAgICByZXR1cm4gIjxSZWFjdC5GcmFnbWVudD4iLmNvbmNhdChjb2RlLCAiPC9SZWFjdC5GcmFnbWVudD4iKTsKICB9LCBbY29kZV0pOwogIHZhciBjb2Rlc2FuZGJveFVybCA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uIChfbmF0aXZlMikgewogICAgdmFyIHVybCA9ICdodHRwczovL2NvZGVzYW5kYm94LmlvL2FwaS92MS9zYW5kYm94ZXMvZGVmaW5lJzsKICAgIHJldHVybiAiIi5jb25jYXQodXJsLCAiP3BhcmFtZXRlcnM9IikuY29uY2F0KGNvZGVzYW5kYm94KS5jb25jYXQoX25hdGl2ZTIgPyAiJmVkaXRvcnNpemU9NzUiIDogIiIpOwogIH0sIFtjb2Rlc2FuZGJveCwgX25hdGl2ZV0pOwogIHZhciB1bmxvYWRMaXN0ZW5lciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHsKICAgIHN0b3JhZ2VbImRlbGV0ZSJdKCk7CiAgfSwgW10pOwogIHZhciBhZGRVbmxvYWRMaXN0ZW5lciA9IHVzZUNhbGxiYWNrKGZ1bmN0aW9uICgpIHsKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYmVmb3JldW5sb2FkJywgdW5sb2FkTGlzdGVuZXIsIGZhbHNlKTsKICAgIH0KICB9LCBbXSk7CiAgdmFyIHJlbW92ZVVubG9hZExpc3RlbmVyID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkgewogICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdiZWZvcmV1bmxvYWQnLCB1bmxvYWRMaXN0ZW5lciwgZmFsc2UpOwogICAgfQogIH0sIFtdKTsKICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkgewogICAgYWRkVW5sb2FkTGlzdGVuZXIoKTsKICAgIHJldHVybiBmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiByZW1vdmVVbmxvYWRMaXN0ZW5lcigpOwogICAgfTsKICB9LCBbXSk7CiAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHsKICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykgewogICAgICB2YXIgbWV0aG9kID0gZnVsbHNjcmVlbiA/ICdhZGQnIDogJ3JlbW92ZSc7CiAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0W21ldGhvZF0oJ3dpdGgtb3ZlcmxheScpOwogICAgfQogIH0sIFtmdWxsc2NyZWVuXSk7CiAgdXNlSG90a2V5cygnZXNjJywgZnVuY3Rpb24gKCkgewogICAgZnVsbHNjcmVlbiAmJiBoYW5kbGVUb2dnbGVGdWxsc2NyZWVuKCk7CiAgfSk7CiAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGl2ZVByb3ZpZGVyLCB7CiAgICBjb2RlOiBjb2RlLAogICAgc2NvcGU6IHNjb3BlLAogICAgdHJhbnNmb3JtQ29kZTogdHJhbnNmb3JtQ29kZSwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI1NwogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIFJlYWN0LmNyZWF0ZUVsZW1lbnQoT3ZlcmxheSwgewogICAgZnVsbDogZnVsbHNjcmVlbiwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI1OAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0sIGZ1bGxzY3JlZW4gPyBSZWFjdC5jcmVhdGVFbGVtZW50KFJlc2l6ZUJhciwgewogICAgb25DaGFuZ2VTaXplOiBoYW5kbGVTZXRTaXplLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjU5CiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSkgOiBudWxsLCBSZWFjdC5jcmVhdGVFbGVtZW50KFJlc2l6YWJsZSwgT2JqZWN0LmFzc2lnbih7fSwgcmVzaXphYmxlUHJvcHMsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI2MAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pLCBSZWFjdC5jcmVhdGVFbGVtZW50KFdyYXBwZXIsIHsKICAgIGZ1bGw6IGZ1bGxzY3JlZW4sCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNjEKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KFByZXZpZXdXcmFwcGVyLCB7CiAgICBmdWxsOiBmdWxsc2NyZWVuLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjYyCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChTdHlsZWRQcmV2aWV3V3JhcHBlciwgewogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjYzCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSwgUmVhY3QuY3JlYXRlRWxlbWVudChDdXN0b21XcmFwcGVyLCB7CiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNjQKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9LCBSZWFjdC5jcmVhdGVFbGVtZW50KExpdmVQcmV2aWV3LCB7CiAgICBjbGFzc05hbWU6IGNsYXNzTmFtZSwKICAgIHN0eWxlOiBzdHlsZSwKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI2NQogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pKSksIFJlYWN0LmNyZWF0ZUVsZW1lbnQoU3R5bGVkRXJyb3IsIHsKICAgIF9fc291cmNlOiB7CiAgICAgIGZpbGVOYW1lOiBfanN4RmlsZU5hbWUsCiAgICAgIGxpbmVOdW1iZXI6IDI2OAogICAgfSwKICAgIF9fc2VsZjogdGhpcwogIH0pKSwgUmVhY3QuY3JlYXRlRWxlbWVudChBY3Rpb25zQmFyLCBPYmplY3QuYXNzaWduKHsKICAgIGZ1bGxzY3JlZW46IGZ1bGxzY3JlZW4sCiAgICBzaG93RWRpdG9yOiBzaG93RWRpdG9yLAogICAgY29kZTogY29kZQogIH0sIHsKICAgIGNvZGVzYW5kYm94VXJsOiBjb2Rlc2FuZGJveFVybChfbmF0aXZlKSwKICAgIG9uQ2xpY2tSZWZyZXNoOiBoYW5kbGVSZWZyZXNoLAogICAgb25DbGlja0VkaXRvcjogaGFuZGxlVG9nZ2xlU2hvd0VkaXRvciwKICAgIG9uQ2xpY2tGdWxsc2NyZWVuOiBoYW5kbGVUb2dnbGVGdWxsc2NyZWVuLAogICAgX19zb3VyY2U6IHsKICAgICAgZmlsZU5hbWU6IF9qc3hGaWxlTmFtZSwKICAgICAgbGluZU51bWJlcjogMjcwCiAgICB9LAogICAgX19zZWxmOiB0aGlzCiAgfSkpLCBzaG93RWRpdG9yICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUHJlLCBPYmplY3QuYXNzaWduKHt9LCBlZGl0b3JQcm9wcywgewogICAgb25DaGFuZ2U6IHNldENvZGUsCiAgICByZWFkT25seTogZmFsc2UsCiAgICBfX3NvdXJjZTogewogICAgICBmaWxlTmFtZTogX2pzeEZpbGVOYW1lLAogICAgICBsaW5lTnVtYmVyOiAyNzgKICAgIH0sCiAgICBfX3NlbGY6IHRoaXMKICB9KSwgY29kZSkpKSkpOwp9OwoKX19zaWduYXR1cmVfXyhQbGF5Z3JvdW5kLCAidXNlQ29uZmlne3sgdGhlbWVDb25maWcsIG5hdGl2ZSB9fVxudXNlTWVtb3tzdG9yYWdlfVxudXNlU3RhdGV7W2tleSwgc2V0S2V5XSgwKX1cbnVzZVN0YXRle1tjb2RlLCBzZXRDb2RlXShpbml0aWFsQ29kZSl9XG51c2VTdGF0ZXtbZnVsbHNjcmVlbiwgc2V0RnVsbHNjcmVlbl0oKCkgPT4gaW5pdGlhbEZ1bGxzY3JlZW4pfVxudXNlU3RhdGV7W3dpZHRoLCBzZXRXaWR0aF0oKCkgPT4gaW5pdGlhbFdpZHRoKX1cbnVzZVN0YXRle1toZWlnaHQsIHNldEhlaWdodF0oKCkgPT4gaW5pdGlhbEhlaWdodCl9XG51c2VTdGF0ZXtbc2hvd0VkaXRvciwgc2V0U2hvd0VkaXRvcl0oKCkgPT4gQm9vbGVhbihpbml0aWFsU2hvd0VkaXRvcikpfVxudXNlTWVtb3tyZXNpemFibGVQcm9wc31cbnVzZUNhbGxiYWNre3NldFN0b3JhZ2VQcm9wfVxudXNlQ2FsbGJhY2t7aGFuZGxlVG9nZ2xlU2hvd0VkaXRvcn1cbnVzZUNhbGxiYWNre2hhbmRsZVNldFNpemV9XG51c2VDYWxsYmFja3toYW5kbGVSZWZyZXNofVxudXNlQ2FsbGJhY2t7dHJhbnNmb3JtQ29kZX1cbnVzZUNhbGxiYWNre2NvZGVzYW5kYm94VXJsfVxudXNlQ2FsbGJhY2t7dW5sb2FkTGlzdGVuZXJ9XG51c2VDYWxsYmFja3thZGRVbmxvYWRMaXN0ZW5lcn1cbnVzZUNhbGxiYWNre3JlbW92ZVVubG9hZExpc3RlbmVyfVxudXNlRWZmZWN0e31cbnVzZUVmZmVjdHt9XG51c2VIb3RrZXlze30iLCBmdW5jdGlvbiAoKSB7CiAgcmV0dXJuIFt1c2VDb25maWcsIHVzZUhvdGtleXNdOwp9KTsKCmlmICh0eXBlb2YgUGxheWdyb3VuZCAhPT0gJ3VuZGVmaW5lZCcgJiYgUGxheWdyb3VuZCAmJiBQbGF5Z3JvdW5kID09PSBPYmplY3QoUGxheWdyb3VuZCkgJiYgT2JqZWN0LmlzRXh0ZW5zaWJsZShQbGF5Z3JvdW5kKSkgewogIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF5Z3JvdW5kLCAnX19maWxlbWV0YScsIHsKICAgIGVudW1lcmFibGU6IHRydWUsCiAgICBjb25maWd1cmFibGU6IHRydWUsCiAgICB2YWx1ZTogewogICAgICBuYW1lOiAiUGxheWdyb3VuZCIsCiAgICAgIGZpbGVuYW1lOiAic3JjL3RoZW1lL2NvbXBvbmVudHMvdWkvUGxheWdyb3VuZC9pbmRleC50c3giCiAgICB9CiAgfSk7Cn0KCjsKCihmdW5jdGlvbiAoKSB7CiAgdmFyIHJlYWN0SG90TG9hZGVyID0gKHR5cGVvZiByZWFjdEhvdExvYWRlckdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcgPyByZWFjdEhvdExvYWRlckdsb2JhbCA6IHJlcXVpcmUoJ3JlYWN0LWhvdC1sb2FkZXInKSkuZGVmYXVsdDsKCiAgaWYgKCFyZWFjdEhvdExvYWRlcikgewogICAgcmV0dXJuOwogIH0KCiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIod2hlbkZ1bGxzY3JlZW4sICJ3aGVuRnVsbHNjcmVlbiIsICIvVXNlcnMvY2FpYnIwMDIvRGVza3RvcC9zdGFwbGVzX2RzXzEvZG9jdW1lbnRhdGlvbi9zcmMvdGhlbWUvY29tcG9uZW50cy91aS9QbGF5Z3JvdW5kL2luZGV4LnRzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKE92ZXJsYXksICJPdmVybGF5IiwgIi9Vc2Vycy9jYWlicjAwMi9EZXNrdG9wL3N0YXBsZXNfZHNfMS9kb2N1bWVudGF0aW9uL3NyYy90aGVtZS9jb21wb25lbnRzL3VpL1BsYXlncm91bmQvaW5kZXgudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoYm9yZGVyQ29sb3IsICJib3JkZXJDb2xvciIsICIvVXNlcnMvY2FpYnIwMDIvRGVza3RvcC9zdGFwbGVzX2RzXzEvZG9jdW1lbnRhdGlvbi9zcmMvdGhlbWUvY29tcG9uZW50cy91aS9QbGF5Z3JvdW5kL2luZGV4LnRzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKG1pbnVzSGFuZGxlU2l6ZSwgIm1pbnVzSGFuZGxlU2l6ZSIsICIvVXNlcnMvY2FpYnIwMDIvRGVza3RvcC9zdGFwbGVzX2RzXzEvZG9jdW1lbnRhdGlvbi9zcmMvdGhlbWUvY29tcG9uZW50cy91aS9QbGF5Z3JvdW5kL2luZGV4LnRzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKFdyYXBwZXIsICJXcmFwcGVyIiwgIi9Vc2Vycy9jYWlicjAwMi9EZXNrdG9wL3N0YXBsZXNfZHNfMS9kb2N1bWVudGF0aW9uL3NyYy90aGVtZS9jb21wb25lbnRzL3VpL1BsYXlncm91bmQvaW5kZXgudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoYmFja2dyb3VuZENvbG9yLCAiYmFja2dyb3VuZENvbG9yIiwgIi9Vc2Vycy9jYWlicjAwMi9EZXNrdG9wL3N0YXBsZXNfZHNfMS9kb2N1bWVudGF0aW9uL3NyYy90aGVtZS9jb21wb25lbnRzL3VpL1BsYXlncm91bmQvaW5kZXgudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoUHJldmlld1dyYXBwZXIsICJQcmV2aWV3V3JhcHBlciIsICIvVXNlcnMvY2FpYnIwMDIvRGVza3RvcC9zdGFwbGVzX2RzXzEvZG9jdW1lbnRhdGlvbi9zcmMvdGhlbWUvY29tcG9uZW50cy91aS9QbGF5Z3JvdW5kL2luZGV4LnRzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKFN0eWxlZFByZXZpZXdXcmFwcGVyLCAiU3R5bGVkUHJldmlld1dyYXBwZXIiLCAiL1VzZXJzL2NhaWJyMDAyL0Rlc2t0b3Avc3RhcGxlc19kc18xL2RvY3VtZW50YXRpb24vc3JjL3RoZW1lL2NvbXBvbmVudHMvdWkvUGxheWdyb3VuZC9pbmRleC50c3giKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihTdHlsZWRFcnJvciwgIlN0eWxlZEVycm9yIiwgIi9Vc2Vycy9jYWlicjAwMi9EZXNrdG9wL3N0YXBsZXNfZHNfMS9kb2N1bWVudGF0aW9uL3NyYy90aGVtZS9jb21wb25lbnRzL3VpL1BsYXlncm91bmQvaW5kZXgudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoUHJlLCAiUHJlIiwgIi9Vc2Vycy9jYWlicjAwMi9EZXNrdG9wL3N0YXBsZXNfZHNfMS9kb2N1bWVudGF0aW9uL3NyYy90aGVtZS9jb21wb25lbnRzL3VpL1BsYXlncm91bmQvaW5kZXgudHN4Iik7CiAgcmVhY3RIb3RMb2FkZXIucmVnaXN0ZXIoZWRpdG9yU3R5bGUsICJlZGl0b3JTdHlsZSIsICIvVXNlcnMvY2FpYnIwMDIvRGVza3RvcC9zdGFwbGVzX2RzXzEvZG9jdW1lbnRhdGlvbi9zcmMvdGhlbWUvY29tcG9uZW50cy91aS9QbGF5Z3JvdW5kL2luZGV4LnRzeCIpOwogIHJlYWN0SG90TG9hZGVyLnJlZ2lzdGVyKGZyb21TdG9yYWdlLCAiZnJvbVN0b3JhZ2UiLCAiL1VzZXJzL2NhaWJyMDAyL0Rlc2t0b3Avc3RhcGxlc19kc18xL2RvY3VtZW50YXRpb24vc3JjL3RoZW1lL2NvbXBvbmVudHMvdWkvUGxheWdyb3VuZC9pbmRleC50c3giKTsKICByZWFjdEhvdExvYWRlci5yZWdpc3RlcihQbGF5Z3JvdW5kLCAiUGxheWdyb3VuZCIsICIvVXNlcnMvY2FpYnIwMDIvRGVza3RvcC9zdGFwbGVzX2RzXzEvZG9jdW1lbnRhdGlvbi9zcmMvdGhlbWUvY29tcG9uZW50cy91aS9QbGF5Z3JvdW5kL2luZGV4LnRzeCIpOwp9KSgpOwoKOwoKKGZ1bmN0aW9uICgpIHsKICB2YXIgbGVhdmVNb2R1bGUgPSAodHlwZW9mIHJlYWN0SG90TG9hZGVyR2xvYmFsICE9PSAndW5kZWZpbmVkJyA/IHJlYWN0SG90TG9hZGVyR2xvYmFsIDogcmVxdWlyZSgncmVhY3QtaG90LWxvYWRlcicpKS5sZWF2ZU1vZHVsZTsKICBsZWF2ZU1vZHVsZSAmJiBsZWF2ZU1vZHVsZShtb2R1bGUpOwp9KSgpOw=="},{"version":3,"sources":["/Users/caibr002/Desktop/staples_ds_1/documentation/src/theme/components/ui/Playground/index.tsx"],"names":["React","Fragment","useState","useEffect","useCallback","useMemo","useConfig","LiveProvider","LiveError","LivePreview","styled","css","rgba","Resizable","getter","Storage","get","themeGet","ResizeBar","ActionsBar","Handle","HANDLE_SIZE","Editor","PreBase","useHotkeys","whenFullscreen","on","off","p","full","Overlay","div","borderColor","minusHandleSize","Wrapper","backgroundColor","PreviewWrapper","StyledPreviewWrapper","StyledError","Pre","editorStyle","fromStorage","storage","key","defaultValue","obj","Playground","position","initialCode","code","codesandbox","className","style","scope","wrapper","CustomWrapper","themeConfig","native","initialShowEditor","atPos","initialFullscreen","initialWidth","initialHeight","setKey","setCode","fullscreen","setFullscreen","width","setWidth","height","setHeight","Boolean","showEditor","setShowEditor","state","resizableProps","minHeight","minWidth","maxWidth","maxHeight","size","margin","enable","top","right","bottom","left","topRight","bottomRight","bottomLeft","topLeft","handleComponent","onResizeStop","e","direction","ref","d","handleSetSize","editorProps","actions","setStorageProp","set","handleToggleFullscreen","handleToggleShowEditor","s","current","handleRefresh","transformCode","startsWith","codesandboxUrl","url","unloadListener","addUnloadListener","window","addEventListener","removeUnloadListener","removeEventListener","method","document","body","classList"],"mappings":"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","sourcesContent":["import * as React from 'react'\nimport { SFC, Fragment } from 'react'\nimport { useState, useEffect, useCallback, useMemo } from 'react'\nimport { useConfig, PlaygroundProps as BasePlaygroundProps } from 'docz'\nimport { LiveProvider, LiveError, LivePreview } from 'react-live'\nimport styled, { css } from 'styled-components'\nimport rgba from 'polished/lib/color/rgba'\nimport Resizable from 're-resizable'\nimport getter from 'lodash/get'\n\nimport { Storage } from '../../../utils/storage'\nimport { get as themeGet } from '../../../utils/theme'\n\nimport { ResizeBar } from './ResizeBar'\nimport { ActionsBar } from './ActionsBar'\nimport { Handle, HANDLE_SIZE } from './Handle'\nimport { Editor as PreBase } from '../Editor'\nimport { useHotkeys } from '../../../utils/hotkeys'\n\ninterface OverlayProps {\n  full: boolean\n}\n\nconst whenFullscreen = (on: any, off: any) => (p: OverlayProps) =>\n  p.full ? on : off\n\nconst Overlay = styled.div<OverlayProps>`\n  top: 0;\n  left: 0;\n  z-index: ${whenFullscreen(9999, 3)};\n  position: ${whenFullscreen('fixed', 'relative')};\n  width: ${whenFullscreen('100vw', 'auto')};\n  height: ${whenFullscreen('100vh', 'auto')};\n  padding: ${whenFullscreen('60px 20px 20px', '0px')};\n  margin: ${whenFullscreen('0px', '0 0 30px')};\n  background: ${whenFullscreen('rgba(0,0,0,0.5)', 'transparent')};\n  box-sizing: border-box;\n  transition: background 0.3s;\n`\n\nconst borderColor = themeGet('colors.border')\nconst minusHandleSize = `calc(100% - ${HANDLE_SIZE} + 4px)`\n\nconst Wrapper = styled.div<OverlayProps>`\n  display: flex;\n  flex-direction: column;\n  height: ${whenFullscreen(minusHandleSize, '100%')};\n  width: ${minusHandleSize};\n  border: 1px solid ${borderColor};\n`\n\nconst backgroundColor = themeGet('colors.background')\n\nconst PreviewWrapper = styled.div<OverlayProps>`\n  position: relative;\n  flex: 1;\n  border-bottom: 1px solid ${borderColor};\n  background: ${backgroundColor};\n  min-height: ${whenFullscreen('198px', 'auto')};\n`\n\nconst StyledPreviewWrapper = styled.div`\n  position: relative;\n  box-sizing: border-box;\n  width: 100%;\n  ${themeGet('styles.playground')};\n`\n\nconst StyledError = styled(LiveError)`\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: calc(100% - 40px);\n  height: calc(100% - 40px);\n  padding: 20px;\n  margin: 0;\n  background: ${rgba('black', 0.8)};\n  font-size: 16px;\n  color: white;\n`\n\nconst Pre: any = styled(PreBase)`\n  box-sizing: content-box;\n  width: calc(100% - 2px);\n  border-radius: 0 !important;\n  border-bottom: 0;\n  border-left: 0;\n  margin: 0;\n`\n\nconst editorStyle = css`\n  border-top: 0;\n`\n\nconst fromStorage = (storage: Storage) => (key: string, defaultValue: any) => {\n  const obj = storage.get()\n  return obj ? getter(obj, key) : defaultValue\n}\n\nexport interface PlaygroundProps extends BasePlaygroundProps {\n  showEditor?: boolean\n}\n\nexport const Playground: SFC<PlaygroundProps> = ({\n  position,\n  code: initialCode,\n  codesandbox,\n  className,\n  style,\n  scope,\n  wrapper: CustomWrapper = Fragment,\n}) => {\n  const { themeConfig, native } = useConfig()\n  const initialShowEditor = getter(themeConfig, 'showPlaygroundEditor')\n  const storage = useMemo(() => new Storage(`doczPlayground-${position}`), [])\n  const atPos = fromStorage(storage)\n  const initialFullscreen = atPos('fullscreen', false)\n  const initialWidth = atPos('width', '100%')\n  const initialHeight = atPos('height', '100%')\n\n  const [key, setKey] = useState(0)\n  const [code, setCode] = useState(initialCode)\n  const [fullscreen, setFullscreen] = useState(() => initialFullscreen)\n  const [width, setWidth] = useState(() => initialWidth)\n  const [height, setHeight] = useState(() => initialHeight)\n  const [showEditor, setShowEditor] = useState(() => Boolean(initialShowEditor))\n\n  const state = {\n    fullscreen,\n    width,\n    height,\n    code,\n    key,\n    showEditor,\n  }\n\n  const resizableProps = useMemo(\n    () => ({\n      minHeight: fullscreen ? 360 : '100%',\n      minWidth: 260,\n      maxWidth: '100%',\n      maxHeight: '100%',\n      size: {\n        width,\n        height,\n      },\n      style: {\n        margin: '0 auto ',\n      },\n      enable: {\n        top: false,\n        right: true,\n        bottom: fullscreen,\n        left: false,\n        topRight: false,\n        bottomRight: fullscreen,\n        bottomLeft: false,\n        topLeft: false,\n      },\n      handleComponent: {\n        // eslint-disable-next-line\n        right: () => <Handle full={fullscreen} horizontal />,\n        // eslint-disable-next-line\n        bottom: () => <Handle full={fullscreen} horizontal={false} />,\n      },\n      onResizeStop: (e: any, direction: any, ref: any, d: any) => {\n        const width = ref.style.width\n        const height = ref.style.height\n        handleSetSize(width, height)\n      },\n    }),\n    [fullscreen, width, height]\n  )\n\n  const editorProps = {\n    css: editorStyle,\n    actions: <Fragment />,\n  }\n\n  const setStorageProp = useCallback((fullscreen: boolean) => {\n    storage.set({ ...state, fullscreen })\n  }, [])\n\n  const handleToggleFullscreen = () => {\n    if (fullscreen) storage.delete()\n    else setStorageProp(true)\n\n    setFullscreen(atPos('fullscreen', false))\n    setWidth(atPos('width', '100%'))\n    setHeight(atPos('width', '100%'))\n  }\n\n  const handleToggleShowEditor = useCallback(() => {\n    setShowEditor(s => !s)\n  }, [])\n\n  const handleSetSize = useCallback((width: string, height: string) => {\n    const current = atPos('fullscreen', false)\n    setWidth(width)\n    setHeight(height)\n    setStorageProp(current)\n  }, [])\n\n  const handleRefresh = useCallback(() => {\n    setKey(key + 1)\n  }, [])\n\n  const transformCode = useCallback(\n    (code: string) => {\n      if (code.startsWith('()') || code.startsWith('class')) return code\n      return `<React.Fragment>${code}</React.Fragment>`\n    },\n    [code]\n  )\n\n  const codesandboxUrl = useCallback(\n    (native: boolean): string => {\n      const url = 'https://codesandbox.io/api/v1/sandboxes/define'\n      return `${url}?parameters=${codesandbox}${native ? `&editorsize=75` : ``}`\n    },\n    [codesandbox, native]\n  )\n\n  const unloadListener = useCallback(() => {\n    storage.delete()\n  }, [])\n\n  const addUnloadListener = useCallback(() => {\n    if (typeof window !== 'undefined') {\n      window.addEventListener('beforeunload', unloadListener, false)\n    }\n  }, [])\n\n  const removeUnloadListener = useCallback(() => {\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('beforeunload', unloadListener, false)\n    }\n  }, [])\n\n  useEffect(() => {\n    addUnloadListener()\n    return () => removeUnloadListener()\n  }, [])\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      const method = fullscreen ? 'add' : 'remove'\n      document.body.classList[method]('with-overlay')\n    }\n  }, [fullscreen])\n\n  useHotkeys('esc', () => {\n    fullscreen && handleToggleFullscreen()\n  })\n\n  return (\n    <LiveProvider code={code} scope={scope} transformCode={transformCode}>\n      <Overlay full={fullscreen}>\n        {fullscreen ? <ResizeBar onChangeSize={handleSetSize} /> : null}\n        <Resizable {...resizableProps}>\n          <Wrapper full={fullscreen}>\n            <PreviewWrapper full={fullscreen}>\n              <StyledPreviewWrapper>\n                <CustomWrapper>\n                  <LivePreview className={className} style={style} />\n                </CustomWrapper>\n              </StyledPreviewWrapper>\n              <StyledError />\n            </PreviewWrapper>\n            <ActionsBar\n              {...{ fullscreen, showEditor, code }}\n              codesandboxUrl={codesandboxUrl(native)}\n              onClickRefresh={handleRefresh}\n              onClickEditor={handleToggleShowEditor}\n              onClickFullscreen={handleToggleFullscreen}\n            />\n            {showEditor && (\n              <Pre {...editorProps} onChange={setCode} readOnly={false}>\n                {code}\n              </Pre>\n            )}\n          </Wrapper>\n        </Resizable>\n      </Overlay>\n    </LiveProvider>\n  )\n}\n"]}]}